import h from"./BtJIVJ1I.js";import{u as d}from"./BJ0f7ykh.js";import{u as w,f as y,g as A,h as C,j as M,i as $,k as b,o as k,w as T,b as U}from"./1dMMfxT9.js";import{q as D}from"./B_V8AoMp.js";import"./CH0RJkXA.js";import"./BoFQ9qWy.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";import"./N28-0G6c.js";import"./CzST4I1P.js";function R(p,r){const{title:i,titleTemplate:a,...s}=p;return d({title:i,titleTemplate:a,_flatMeta:s},{...r,transform(t){const l=w({...t._flatMeta});return delete t._flatMeta,{...t,meta:l}}})}const V={__name:"[...content-page]",async setup(p){var u,m,f;let r,i;const a=y(),s=b();let t=null;try{t=([r,i]=A(()=>D(C(a.path)).only(["og","description","title"]).findOne()),r=await r,i(),r)}catch{}if(t){const e=((u=t.og)==null?void 0:u.title)??t.title,o=l(((m=t.og)==null?void 0:m.image)??"logo-primary-og.png"),n=_(g(((f=t.og)==null?void 0:f.description)??t.description),150),c=l(a.path);R({description:n,ogTitle:e,ogDescription:n,ogImage:o,ogUrl:c,twitterTitle:e,twitterDescription:n,twitterImage:o})}function l(e){const{protocol:o,authority:n,baseUrl:c}=s.public;return`${o}://${M(n,c,e)}`}function g(e=" "){return e.replaceAll(`
`," ").replaceAll("	"," ").replaceAll("\r"," ").replaceAll("!",".").replaceAll("?",".").replaceAll("...",".").split(".").shift()}function _(e,o){return e.length>=o?`${e.substring(0,o-3)}...`:`${e}.`}return(e,o)=>{const n=h;return k(),$(n,{head:!1},{"not-found":T(()=>[U(n,{path:"/not-found",head:!1})]),_:1})}}};export{V as default};
